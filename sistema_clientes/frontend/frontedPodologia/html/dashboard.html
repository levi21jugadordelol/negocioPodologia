<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <link rel="stylesheet" href="../css/fronted.css" />
  </head>

  <body>
    <main class="d-flex">
      <!-- === SIDEBAR === -->
      <aside class="sidebar" style="background-color: lightslategray">
        <div class="sidebar-top text-center">
          <h3>üë§ Juan P√©rez</h3>
          <p>Admin</p>
        </div>

        <ul class="menu list-unstyled">
          <li>
            <button
              type="button"
              id="btn-clientes"
              class="btn w-100 text-start"
            >
              üë• Clientes
            </button>
          </li>
          <li>
            <button type="button" id="btn-citas" class="btn w-100 text-start">
              üìÖ Citas
            </button>
          </li>
          <li>
            <button
              type="button"
              id="btn-servicios"
              class="btn w-100 text-start"
            >
              üõ†Ô∏è Servicios
            </button>
          </li>
          <li>
            <button
              type="button"
              id="btn-productos"
              class="btn w-100 text-start"
            >
              üß¥ Productos
            </button>
          </li>

          <li>
            <button
              type="button"
              id="btn-facturas"
              class="btn w-100 text-start"
            >
              üßæ Facturas
            </button>
          </li>
        </ul>

        <div class="sidebar-bottom">
          <p>üìà Total Clientes: <span id="total-clientes">0</span></p>
          <p>üìÖ Hoy: <span id="fecha-hoy"></span></p>
          <button type="button" class="btn" id="btn_cerrarSession">
            Cerrar sesi√≥n
          </button>
        </div>
      </aside>

      <!-- === CONTENIDO VISIBLE PRINCIPAL === -->
      <section class="main flex-grow-1 p-4 overflow-auto">
        <!-- === Vista de Clientes === -->
        <div id="vista-clientes" class="section active">
          <h2>Clientes</h2>
          <button class="btn btn-primary my-3 btn_nuevo_cliente">
            üë§ Nuevo Cliente
          </button>

          <button class="btn btn-success my-3 btn_listaCliente">
            üìã Lista de clientes
          </button>

          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-dark">
                <tr>
                  <th>Nombre</th>
                  <th>Apellido</th>
                  <th>Correo</th>
                  <th>Celular</th>
                  <th>DNI</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="tabla-clientes">
                <!-- Datos din√°micos -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- === Vista de Clientes totales directo de la DB === -->
        <div id="vista-clientes-totales" class="section">
          <h2>total de Clientes</h2>

          <button class="btn btn-success my-3 btn_enviarExcel">
            üìã exportarlo a excel
          </button>

          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-dark">
                <tr>
                  <th>Nombre</th>
                  <th>Apellido</th>
                  <th>Correo</th>
                  <th>Celular</th>
                  <th>DNI</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="tabla-clientes-totales">
                <!-- Datos din√°micos -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- === Vista de Citas === -->
        <div id="vista-citas" class="section">
          <h2>Citas</h2>

          <button class="btn btn-warning my-3 btn_verPendientes">
            ‚è≥ Citas pendientes
          </button>

          <button class="btn btn-success my-3 btn_verFinalizadas">
            ‚úÖ Citas finalizadas
          </button>

          <button class="btn btn-danger my-3 btn_verCanceladas">
            ‚ùå Citas canceladas
          </button>
          <div class="table-responsive">
            <table id="tabla-citas" class="table table-bordered">
              <thead class="table-dark">
                <tr>
                  <th>Fecha</th>
                  <th>Cliente</th>
                  <th>Servicio</th>
                  <th>Estado</th>
                  <th>Observaciones</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="tbody-citas">
                <!-- Datos din√°micos -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- === Vista de servicio === -->
        <div id="vista-servicio" class="section">
          <h2>Servicios</h2>
          <button class="btn btn-primary my-3 btn_nuevo_servicio">
            üë§ Nuevo servicio
          </button>
          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-dark">
                <tr>
                  <th>Nombre del servicio</th>
                  <th>precio del servicio</th>
                  <th>descripcion del servicio</th>
                  <th>duracion del servicio</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="tabla-servicio">
                <!-- Datos din√°micos -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- === Vista de Productos === -->
        <div id="vista-productos" class="section">
          <h2>Productos</h2>
          <button class="btn btn-primary my-3 btn_nuevo_producto">
            üß¥ Nuevo Producto
          </button>

          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-dark">
                <tr>
                  <th>Nombre del producto</th>
                  <th>Stock</th>
                  <th>Tipo de producto</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="tabla-productos">
                <!-- Datos din√°micos -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- === Vista de clientes pendientes === -->
        <div id="vista-clientes-pendientes" class="section">
          <h2>Citas Programadas</h2>

          <!-- Buscadores -->
          <!-- Buscadores con botones -->
          <div class="mb-3 d-flex gap-3 align-items-center">
            <input
              type="text"
              id="input-dni"
              class="form-control"
              placeholder="Buscar por DNI"
              style="width: 30%"
            />
            <button id="btn-buscar-dni" class="btn btn-primary">
              Buscar DNI
            </button>

            <input
              type="text"
              id="input-nombre"
              class="form-control"
              placeholder="Buscar por Nombre del Cliente"
              style="width: 30%"
            />
            <button id="btn-buscar-nombre" class="btn btn-primary">
              Buscar Nombre
            </button>
          </div>

          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-dark">
                <tr>
                  <th>ID cita</th>
                  <th>Cliente</th>
                  <th>servicio id</th>
                  <th>Fecha</th>
                  <th>Estado</th>
                  <th>Observaciones</th>
                  <th>Acciones</th>
                </tr>
              </thead>

              <tbody id="tabla-citas-programadas">
                <!-- Datos din√°micos -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- === vista de clientes finalziados === -->

        <div id="vista-clientes-finalizadas" class="section">
          <h2>Citas Programadas</h2>

          <!-- Buscadores -->
          <!-- Buscadores con botones -->
          <div class="mb-3 d-flex gap-3 align-items-center">
            <input
              type="text"
              id="input-dni"
              class="form-control"
              placeholder="Buscar por DNI"
              style="width: 30%"
            />
            <button id="btn-buscar-dni" class="btn btn-primary">
              Buscar DNI
            </button>

            <input
              type="text"
              id="input-nombre"
              class="form-control"
              placeholder="Buscar por Nombre del Cliente"
              style="width: 30%"
            />
            <button id="btn-buscar-nombre" class="btn btn-primary">
              Buscar Nombre
            </button>
          </div>

          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-dark">
                <tr>
                  <th>ID cita</th>
                  <th>Cliente</th>
                  <th>servicio id</th>
                  <th>Fecha</th>
                  <th>Estado</th>
                  <th>Observaciones</th>
                  <th>Acciones</th>
                </tr>
              </thead>

              <tbody id="tabla-citas-finalizadas">
                <!-- Datos din√°micos -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- === vista de clientes cancelados === -->
        <div id="vista-clientes-cancelados" class="section">
          <h2>Citas canceladas</h2>

          <!-- Buscadores -->
          <!-- Buscadores con botones -->
          <div class="mb-3 d-flex gap-3 align-items-center">
            <input
              type="text"
              id="input-dni"
              class="form-control"
              placeholder="Buscar por DNI"
              style="width: 30%"
            />
            <button id="btn-buscar-dni" class="btn btn-primary">
              Buscar DNI
            </button>

            <input
              type="text"
              id="input-nombre"
              class="form-control"
              placeholder="Buscar por Nombre del Cliente"
              style="width: 30%"
            />
            <button id="btn-buscar-nombre" class="btn btn-primary">
              Buscar Nombre
            </button>
          </div>

          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-dark">
                <tr>
                  <th>ID cita</th>
                  <th>Cliente</th>
                  <th>servicio id</th>
                  <th>Fecha</th>
                  <th>Estado</th>
                  <th>Observaciones</th>
                  <th>Acciones</th>
                </tr>
              </thead>

              <tbody id="tabla-citas-cancelados">
                <!-- Datos din√°micos -->
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- === VENTANA MODAL cliente=== -->
      <div id="modal" class="modal-overlay translate">
        <form
          id="form_cliente"
          class="modal-content form-control w-75"
          data-id=""
        >
          <h1 class="text-center">registrar cliente</h1>

          <div class="mb-3">
            <label for="modal_nombre" class="form-label">Nombre:</label>
            <input id="modal_nombre" type="text" class="form-control" />
          </div>

          <div class="mb-3">
            <label for="modal_apellido" class="form-label">Apellido:</label>
            <input id="modal_apellido" type="text" class="form-control" />
          </div>

          <div class="mb-3">
            <label for="modal_correo" class="form-label">Correo:</label>
            <input id="modal_correo" type="email" class="form-control" />
          </div>

          <div class="mb-3">
            <label for="modal_celular" class="form-label">Celular:</label>
            <input id="modal_celular" type="text" class="form-control" />
          </div>

          <div class="mb-3">
            <label for="modal_dni" class="form-label">DNI:</label>
            <input id="modal_dni" type="text" class="form-control" />
          </div>

          <div class="mb-3 text-center">
            <button type="button" class="btn btn-primary button_enviar_cliente">
              Guardar
            </button>
          </div>

          <button
            type="button"
            class="btn btn-danger close position-absolute top-0 end-0 m-2"
          >
            ‚úñ
          </button>
        </form>
      </div>

      <!-- === VENTANA MODAL EDIT CLIENTE === -->

      <div id="modal" class="modal-overlay_edit translate">
        <form
          id="form_cliente_edit"
          class="modal-content form-control w-75"
          data-id=""
        >
          <h1 class="text-center">editar cliente</h1>

          <div class="mb-3">
            <label for="modal_nombre_edit" class="form-label">Nombre:</label>
            <input
              id="modal_nombre_edit"
              name="nombreCliente"
              type="text"
              class="form-control"
            />
          </div>

          <div class="mb-3">
            <label for="modal_apellido_edit" class="form-label"
              >Apellido:</label
            >
            <input
              id="modal_apellido_edit"
              name="apellidoCliente"
              type="text"
              class="form-control"
            />
          </div>

          <div class="mb-3">
            <label for="modal_correo_edit" class="form-label">Correo:</label>
            <input
              id="modal_correo_edit"
              name="correoCliente"
              type="email"
              class="form-control"
            />
          </div>

          <div class="mb-3">
            <label for="modal_celular_edit" class="form-label">Celular:</label>
            <input
              id="modal_celular_edit"
              name="cellCliente"
              type="text"
              class="form-control"
            />
          </div>

          <div class="mb-3">
            <label for="modal_dni_edit" class="form-label">DNI:</label>
            <input
              id="modal_dni_edit"
              name="dniCliente"
              type="text"
              class="form-control"
            />
          </div>

          <div class="mb-3 text-center">
            <button
              type="button"
              class="btn btn-primary btn_enviar_edit_cliente"
            >
              Guardar
            </button>
          </div>

          <button
            type="button"
            class="btn btn-danger close position-absolute top-0 end-0 m-2"
          >
            ‚úñ
          </button>
        </form>
      </div>

      <!-- === VENTANA MODAL servicio=== -->
      <div id="modal_servicio" class="modal-overlay_service translate">
        <form
          id="form_servicio"
          class="modal-content form-control w-75"
          data-id=""
        >
          <h1 class="text-center">Creando Registro</h1>

          <div class="mb-3">
            <label for="modal_nombreServicio" class="form-label"
              >Nombre del servicio:</label
            >
            <input id="modal_nombreServicio" type="text" class="form-control" />
          </div>

          <div class="mb-3">
            <label for="modal_precio" class="form-label">precio:</label>
            <input id="modal_precio" type="number" class="form-control" />
          </div>

          <div class="mb-3">
            <label for="modal_descripcion" class="form-label"
              >descripcion:</label
            >
            <input id="modal_descripcion" type="text" class="form-control" />
          </div>

          <div class="mb-3">
            <label for="modal_duracion" class="form-label">duracion:</label>
            <input
              id="modal_duracion"
              type="number"
              class="form-control"
              placeholder="Duraci√≥n en minutos"
            />
          </div>

          <div class="mb-3 text-center">
            <button type="button" class="btn btn-primary btn_enviar_servicio">
              Guardar
            </button>
          </div>

          <button
            type="button"
            class="btn btn-danger close position-absolute top-0 end-0 m-2"
          >
            ‚úñ
          </button>
        </form>
      </div>

      <!-- === VENTANA MODAL DE EDIT SERVICIO === -->

      <div id="modal_servicio_edit" class="modal-overlay_service translate">
        <form
          id="form_servicio_edit"
          class="modal-content form-control w-75"
          data-id=""
        >
          <h1 class="text-center">Creando Registro</h1>

          <div class="mb-3">
            <label for="modal_nombreServicio_edit" class="form-label"
              >Nombre del servicio:</label
            >
            <input
              id="modal_nombreServicio_edit"
              type="text"
              class="form-control"
            />
          </div>

          <div class="mb-3">
            <label for="modal_precio_edit" class="form-label">precio:</label>
            <input id="modal_precio_edit" type="number" class="form-control" />
          </div>

          <div class="mb-3">
            <label for="modal_descripcion_edit" class="form-label"
              >descripcion:</label
            >
            <input
              id="modal_descripcion_edit"
              type="text"
              class="form-control"
            />
          </div>

          <div class="mb-3">
            <label for="modal_duracion_edit" class="form-label"
              >duracion:</label
            >
            <input
              id="modal_duracion_edit"
              type="number"
              class="form-control"
              placeholder="Duraci√≥n en minutos"
            />
          </div>

          <div class="mb-3 text-center">
            <button
              type="button"
              class="btn btn-primary btn_enviarEdit_servicio"
            >
              Guardar
            </button>
          </div>

          <button
            type="button"
            class="btn btn-danger close position-absolute top-0 end-0 m-2"
          >
            ‚úñ
          </button>
        </form>
      </div>

      <!-- === VENTANA MODAL producto === -->
      <div id="modal_producto" class="modal-overlay_product translate">
        <form
          id="form_producto"
          class="modal-content form-control w-75"
          data-id=""
        >
          <h1 class="text-center">Creando Producto</h1>

          <div class="mb-3">
            <label for="modal_nombreProducto" class="form-label"
              >Nombre del producto:</label
            >
            <input id="modal_nombreProducto" type="text" class="form-control" />
          </div>

          <div class="mb-3">
            <label for="modal_stock" class="form-label">Stock:</label>
            <input
              id="modal_stock"
              type="number"
              min="0"
              class="form-control"
            />
          </div>

          <div class="mb-3">
            <label for="modal_tipoProducto" class="form-label"
              >Tipo de producto:</label
            >
            <input id="modal_tipoProducto" type="text" class="form-control" />
          </div>

          <div class="mb-3 text-center">
            <button type="button" class="btn btn-primary btn_enviar_producto">
              Guardar
            </button>
          </div>

          <button
            type="button"
            class="btn btn-danger close position-absolute top-0 end-0 m-2"
          >
            ‚úñ
          </button>
        </form>
      </div>

      <!-- ===VENTANA MODADL EDI PRODUCTO=== -->
      <div id="modal_producto_edit" class="modal-overlay_product translate">
        <form
          id="form_producto_edit"
          class="modal-content form-control w-75"
          data-id=""
        >
          <h1 class="text-center">Editando Producto</h1>

          <div class="mb-3">
            <label for="modal_nombreProducto_edit" class="form-label"
              >Nombre del producto:</label
            >
            <input
              id="modal_nombreProducto_edit"
              type="text"
              class="form-control"
            />
          </div>

          <div class="mb-3">
            <label for="modal_stock_edit" class="form-label">Stock:</label>
            <input
              id="modal_stock_edit"
              type="number"
              min="0"
              class="form-control"
            />
          </div>

          <div class="mb-3">
            <label for="modal_tipoProducto_edit" class="form-label"
              >Tipo de producto:</label
            >
            <input
              id="modal_tipoProducto_edit"
              type="text"
              class="form-control"
            />
          </div>

          <div class="mb-3 text-center">
            <button type="button" class="btn btn-primary btn_edit_producto">
              Guardar
            </button>
          </div>

          <button
            type="button"
            class="btn btn-danger close position-absolute top-0 end-0 m-2"
          >
            ‚úñ
          </button>
        </form>
      </div>

      <!-- === VENTANA MODAL DETALLE CITA === -->
      <div id="modal_detalle" class="modal-overlay_product translate">
        <form
          id="form_detalle"
          class="modal-content form-control w-75"
          data-id=""
        >
          <h1 class="text-center">Agregar Detalle de Cita</h1>

          <!-- SERVICIO ID -->
          <div class="mb-3">
            <label class="form-label">Servicio:</label>
            <input
              type="text"
              id="modal_servicio_nombre"
              class="form-control"
              readonly
            />
            <!-- Campo oculto que contiene el ID real que se enviar√° -->
            <input type="hidden" id="modal_servicio_id" />
          </div>

          <!-- DURACI√ìN TOTAL -->
          <div class="mb-3">
            <label for="modal_duracion_detalle" class="form-label"
              >Duraci√≥n Total (minutos):</label
            >
            <input
              id="modal_duracion_detalle"
              type="number"
              class="form-control"
            />
          </div>

          <!-- MOTIVO -->
          <div class="mb-3">
            <label for="modal_motivo" class="form-label">Motivo:</label>
            <textarea id="modal_motivo" class="form-control"></textarea>
          </div>

          <!-- PRODUCTOS UTILIZADOS -->
          <div class="mb-3">
            <label class="form-label">Productos Utilizados:</label>
            <div class="d-flex mb-2 gap-2">
              <select id="select_producto" class="form-control producto_id">
                <!-- JS lo llena -->
              </select>
              <button
                type="button"
                id="add_producto"
                class="btn btn-primary btn-sm"
              >
                + Agregar producto
              </button>
            </div>
            <ul id="lista_productos"></ul>
            <!-- Opcional para mostrar lo acumulado -->
          </div>

          <!-- BOTONES -->
          <div class="mb-3 text-center">
            <button type="submit" class="btn btn-primary enviar">
              Guardar Detalle
            </button>
          </div>
          <button
            type="button"
            class="btn btn-danger close position-absolute top-0 end-0 m-2"
          >
            ‚úñ
          </button>
        </form>
      </div>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="module" src="../js/app.js"></script>
  </body>
</html>
